<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; connect-src 'self'; img-src 'self' data:;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <title>IBAN Generator | Open Source</title>
    <meta name="description" content="Generate valid IBAN numbers for testing purposes. Open source.">
    <!-- Link naar extern CSS bestand -->
    <link rel="stylesheet" href="style.css?v=1.0.1">
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <main>
        <div class="container">
            <header>
                <h1>IBAN Generator</h1>
                <p class="subtitle">Generate valid IBAN numbers for testing purposes</p>
            </header>

            <div class="card">
                <noscript>
                    <p class="error-message has-error">JavaScript is required for this tool to function. Please enable JavaScript in your browser.</p>
                </noscript>

                <form id="iban-form">
                    <fieldset>
                         <legend class="form-section-heading">Generator Settings</legend>

                        <div class="form-group">
                            <label for="country">Country:</label>
                            <select id="country" name="country" required aria-describedby="country-help country-error">
                                <!-- Country options will be populated by JS -->
                            </select>
                            <p id="country-help" class="help-text">Select the country for the IBAN.</p>
                             <p id="country-error" class="error-message" aria-live="assertive"></p>
                        </div>

                        <div class="form-group hidden" id="bank-container">
                            <label for="bank">Bank:</label>
                            <select id="bank" name="bank" aria-describedby="bank-help bank-error">
                                <!-- Options loaded dynamically -->
                            </select>
                            <p id="bank-help" class="help-text">Optional: Select a bank for the chosen country.</p>
                             <p id="bank-error" class="error-message" aria-live="assertive"></p>
                        </div>

                         <div class="form-group">
                             <label for="quantity">Number of IBANs to generate:</label>
                             <input type="number" id="quantity" name="quantity" value="1" min="1" max="100" required autocomplete="off" aria-describedby="quantity-help quantity-error">
                             <p id="quantity-help" class="help-text">Enter a number between 1 and 100.</p>
                             <p id="quantity-error" class="error-message" aria-live="assertive"></p>
                         </div>

                        <div class="form-group button-group">
                            <button type="submit" id="generate-btn" class="btn btn-primary">Generate IBAN(s)</button>
                        </div>
                    </fieldset>
                </form>

                <div id="result-section" class="hidden" role="region" aria-labelledby="result-heading">
                    <h2 id="result-heading" class="form-section-heading">Generated Results</h2>

                    <!-- Single IBAN Result -->
                    <div id="single-result-container" class="hidden">
                         <h3>Generated IBAN</h3>
                         <div class="iban-result">
                            <div class="iban-display">
                                <span id="iban-result" aria-live="polite"></span>
                                <button type="button" id="copy-btn" title="Copy to clipboard" aria-label="Copy IBAN to clipboard">
                                    <svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                            </div>
                            <p id="copy-message" class="copy-message" role="status" aria-live="polite"></p>
                         </div>
                    </div>

                    <!-- Bulk IBAN Results -->
                    <div id="bulk-result-container" class="hidden">
                        <h3 id="bulk-heading">Generated IBANs (<span id="bulk-count">0</span>)</h3>
                        <div class="form-group">
                             <label for="bulk-ibans">Results:</label>
                             <textarea id="bulk-ibans" rows="10" readonly aria-describedby="bulk-ibans-help" aria-label="Generated IBANs"></textarea>
                             <p id="bulk-ibans-help" class="help-text">Generated IBANs, one per line.</p>
                        </div>
                         <div class="form-group button-group">
                            <button type="button" id="download-bulk" class="btn btn-secondary">Download Results (.txt)</button>
                        </div>
                    </div>
                </div>
            </div>

            <footer class="footer">
                <p>Open source IBAN generator | <a href="https://github.com/CopyPasteHero/CopyPasteHero.github.io/tree/main/iban" target="_blank" rel="noopener noreferrer" aria-label="View source code on GitHub">GitHub</a></p>
                <p class="disclaimer">Note: Generated IBANs are mathematically valid but do not correspond to real bank accounts. Use for testing purposes only.</p>
            </footer>
        </div>
    </main>
    <!-- Link naar extern JavaScript bestand -->
    <script src="script.js?v=1.0.1"></script>
</body>
</html>